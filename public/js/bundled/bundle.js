"use strict";function Photo(e){var o=this;o.thumbnailUrl=photoDirectory()+"/"+e}function TeaPhoto(e){var o=this;o.url=teaPhotoDirectory()+"/"+e}function teaPhotoDirectory(){return isMobile()?"/images/tea/mobile":"/images/tea"}function photoDirectory(){return isMobile()?"/images/manna/mobile-thumb":"/images/manna/thumb"}function AppViewModel(){this.photos=[new Photo("manna-1.png"),new Photo("manna-2.png"),new Photo("manna-3.jpeg"),new Photo("manna-4.jpeg")],shuffle(this.photos),this.deviceClasses=addDeviceClasses()}function shuffle(e){for(var o=e.length-1;o>0;o--){var i=Math.floor(Math.random()*(o+1)),t=e[o];e[o]=e[i],e[i]=t}return e}function initCalenderSettings(){addeventatc.settings({license:"00000000000000000000",mouse:!1,css:!0,outlook:{show:!1,text:"Outlook"},google:{show:!0,text:"Google <em>(online)</em>"},yahoo:{show:!1,text:"Yahoo <em>(online)</em>"},outlookcom:{show:!0,text:"Outlook.com <em>(online)</em>"},appleical:{show:!0,text:"Apple Calendar"},facebook:{show:!1,text:"Facebook Event"},dropdown:{order:"google,appleical,facebook,outlookcom"}})}function initCustomValidators(){$().validator({custom:{"rsvp-checked":function(e){if(!$("#attending").is(":checked")&&!$("#not-attending").is(":checked"))return!0},"rsvp-type-checked":function(e){if(!$("#proper-guest").is(":checked")&&!$("#evening-guest").is(":checked"))return!0}}})}function isMobile(){var e=!1;return function(o){(/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i.test(o)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(o.substr(0,4)))&&(e=!0)}(navigator.userAgent||navigator.vendor||window.opera),e}function isiOS(){return navigator.userAgent.match(/(iPad|iPhone|iPod)/g)}function isTablet(){var e=navigator.userAgent.toLowerCase(),o=e.indexOf("android")>-1&&!e.indexOf("mobile"),i=/iPad|Hudl|Kindle|Silk|KFAPW|KFARWI|KFASWI|KFFOWI|KFJW|KFMEWI|KFOT|KFSAW|KFTHWI|KFSOWI|KFTBW|KFT‌​HW|KFTT|WFFOWI|Nexus 10 Build|Nexus 9 Build|Nexus 8 Build|Nexus 7 Build|SM-T330|SM-T232|SM-T335|SM-T210|SM-T210R|GT-P5210|SM-T210R|SM-T311|GT-P5200|SM-T217S|SM-T310|SM-T315|SM-T110|SM-T530|SM-T211|SM-T110|GT-P5110|GT-P5100|GT-P3110|GT-P5113|GT-P3100B|GT-P3100|GT-P3100|SM-T350|SM-T550|SM-T230|SM-T800|SM-T700|SM-T805|SM-T705|SM-T533|Lenovo A7600-F|SM-T|A500|A1-810|Transformer|tablet/i.test(e);return i||o}function isAndroid(){var e=navigator.userAgent.toLowerCase();return e.indexOf("android")}function isDesktop(){return!isMobile()&&!isTablet()}function addDeviceClasses(){var e="";return isiOS()&&(e=e.concat("ios ")),e=isMobile()?e.concat("mobile "):isTablet()?e.concat("tablet"):e.concat("desktop")}function initGoogleAnalytics(){!function(e,o,i,t,a,n,s){e.GoogleAnalyticsObject=a,e[a]=e[a]||function(){(e[a].q=e[a].q||[]).push(arguments)},e[a].l=1*new Date,n=o.createElement(i),s=o.getElementsByTagName(i)[0],n.async=1,n.src=t,s.parentNode.insertBefore(n,s)}(window,document,"script","//www.google-analytics.com/analytics.js","ga"),ga("create","UA-71737216-1","auto"),ga("send","pageview")}function disableRightClick(){$(".disable-rightclick").bind("contextmenu",function(){return!1}),$("#print").on("click",function(){window.print()})}function initLightboxGallery(){$.tosrus.defaults.media.image={filterAnchors:function(e){return!0}},$("#lightboxgallery a").tosrus({infinite:!0,pagination:{add:!0},keys:{prev:!0,next:!0,close:!0},wrapper:{onClick:"close"}})}function initMap(){var e={lat:51.44244339999999,lng:-.2944414},o=new google.maps.Map(document.getElementById("map"),{center:e,zoom:15}),i='<div id="info-window"><h4>Pembroke Lodge</h4><a href="https://goo.gl/maps/YHvbFPW7f9Q2" target="_blank"><img class="img-responsive" src="/images/pembroke.jpg"></a><ul class="action-list"><li><a href="https://goo.gl/maps/aUs2Cu8RqLm" target="_blank">Get directions</a></li><li><a href="https://goo.gl/maps/YHvbFPW7f9Q2" target="_blank">See on Google maps</a></li></ul></div>',t=new google.maps.InfoWindow({content:i,maxWidth:180}),a=new google.maps.Marker({position:e,map:o,animation:google.maps.Animation.DROP,title:"Michael & Anna's Wedding venue!"});a.addListener("click",function(){t.open(o,a)})}function isMobile(){var e=!1;return function(o){(/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i.test(o)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(o.substr(0,4)))&&(e=!0)}(navigator.userAgent||navigator.vendor||window.opera),e}function animatedScroll(e){$("html, body").stop().animate({scrollTop:e},700)}function saveData(){var e,o,i,t=$(".rsvp #name").val(),a=$(".rsvp #email").val(),n=$(".rsvp #comment").val();$("#proper-guest").is(":checked")?(o="Ceremony and Reception Guest",dataLayer.push({guestType:"reception"})):$("#evening-guest").is(":checked")&&(o="Evening Guest",dataLayer.push({guestType:"evening"})),$("#attending").is(":checked")?e="Yes":$("#not-attending").is(":checked")&&(e="No"),$("#chicken").is(":checked")?i="Chicken":$("#fish").is(":checked")&&(i="Fish");var s=null!=i||void 0!=i,c=s?i:"None Selected",r=new Firebase("https://anna-and-michael.firebaseio.com");r.authAnonymously(function(i,s){if(i)console.log("Login Failed!",i);else{var l=r.child("rsvps");l.push({name:t,email:a,attending:e,guestType:o,comment:n,foodOption:c,createDate:(new Date).toISOString()})}})}ko.applyBindings(new AppViewModel),$("#backtotop").click(function(e){e.preventDefault(),animatedScroll(0)}),$(".taxi-button").click(function(e){e.preventDefault();var o=$(".taxi-button").attr("href");animatedScroll($(o).offset().top)}),$(".rsvp-form").validator().on("submit",function(e){e.isDefaultPrevented()?console.log("An error occurred"):(e.preventDefault(),saveData(),$(".overlay").removeClass("overlay-show"),$(".rsvp-form").addClass("hide"),$(".email-sent").fadeIn(),animatedScroll(0))}),$("input[name='guestTypeOptions']").change(function(){$("#proper-guest").is(":checked")?$(".food-group").fadeIn():$("#evening-guest").is(":checked")&&$(".food-group").fadeOut()});
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFwcHZpZXdtb2RlbC5qcyIsImNhbGVuZGVyc2V0dGluZ3MuanMiLCJjdXN0b20tdmFsaWRhdG9yLmpzIiwiZGV2aWNldXRpbHMuanMiLCJnb29nbGVhbmFseXRpY3MuanMiLCJpbWFnZS5qcyIsImxpZ2h0Ym94Z2FsbGVyeS5qcyIsIm1hcC5qcyIsInNjcm9sbGhlbHBlci5qcyIsInNlbmRlbWFpbC5qcyJdLCJuYW1lcyI6WyJQaG90byIsInBob3RvIiwic2VsZiIsInRoaXMiLCJ0aHVtYm5haWxVcmwiLCJwaG90b0RpcmVjdG9yeSIsIlRlYVBob3RvIiwidXJsIiwidGVhUGhvdG9EaXJlY3RvcnkiLCJpc01vYmlsZSIsIkFwcFZpZXdNb2RlbCIsInBob3RvcyIsInNodWZmbGUiLCJkZXZpY2VDbGFzc2VzIiwiYWRkRGV2aWNlQ2xhc3NlcyIsImFycmF5IiwiaSIsImxlbmd0aCIsImoiLCJNYXRoIiwiZmxvb3IiLCJyYW5kb20iLCJ0ZW1wIiwiaW5pdENhbGVuZGVyU2V0dGluZ3MiLCJhZGRldmVudGF0YyIsInNldHRpbmdzIiwibGljZW5zZSIsIm1vdXNlIiwiY3NzIiwib3V0bG9vayIsInNob3ciLCJ0ZXh0IiwiZ29vZ2xlIiwieWFob28iLCJvdXRsb29rY29tIiwiYXBwbGVpY2FsIiwiZmFjZWJvb2siLCJkcm9wZG93biIsIm9yZGVyIiwiaW5pdEN1c3RvbVZhbGlkYXRvcnMiLCIkIiwidmFsaWRhdG9yIiwiY3VzdG9tIiwicnN2cC1jaGVja2VkIiwiJGVsIiwiaXMiLCJyc3ZwLXR5cGUtY2hlY2tlZCIsImNoZWNrIiwiYSIsInRlc3QiLCJzdWJzdHIiLCJuYXZpZ2F0b3IiLCJ1c2VyQWdlbnQiLCJ2ZW5kb3IiLCJ3aW5kb3ciLCJvcGVyYSIsImlzaU9TIiwibWF0Y2giLCJpc1RhYmxldCIsInRvTG93ZXJDYXNlIiwiaXNTb21lS2luZE9mQW5kcm9pZFRhYmxldCIsImluZGV4T2YiLCJpc0FuZHJvaWQiLCJpc0Rlc2t0b3AiLCJjbGFzc2VzIiwiY29uY2F0IiwiaW5pdEdvb2dsZUFuYWx5dGljcyIsInMiLCJvIiwiZyIsInIiLCJtIiwicSIsInB1c2giLCJhcmd1bWVudHMiLCJsIiwiRGF0ZSIsImNyZWF0ZUVsZW1lbnQiLCJnZXRFbGVtZW50c0J5VGFnTmFtZSIsImFzeW5jIiwic3JjIiwicGFyZW50Tm9kZSIsImluc2VydEJlZm9yZSIsImRvY3VtZW50IiwiZ2EiLCJkaXNhYmxlUmlnaHRDbGljayIsImJpbmQiLCJvbiIsInByaW50IiwiaW5pdExpZ2h0Ym94R2FsbGVyeSIsInRvc3J1cyIsImRlZmF1bHRzIiwibWVkaWEiLCJpbWFnZSIsImZpbHRlckFuY2hvcnMiLCIkYW5jaG9yIiwiaW5maW5pdGUiLCJwYWdpbmF0aW9uIiwiYWRkIiwia2V5cyIsInByZXYiLCJuZXh0IiwiY2xvc2UiLCJ3cmFwcGVyIiwib25DbGljayIsImluaXRNYXAiLCJsYXRMb25nIiwibGF0IiwibG5nIiwibWFwIiwibWFwcyIsIk1hcCIsImdldEVsZW1lbnRCeUlkIiwiY2VudGVyIiwiem9vbSIsImNvbnRlbnRTdHJpbmciLCJpbmZvd2luZG93IiwiSW5mb1dpbmRvdyIsImNvbnRlbnQiLCJtYXhXaWR0aCIsIm1hcmtlciIsIk1hcmtlciIsInBvc2l0aW9uIiwiYW5pbWF0aW9uIiwiQW5pbWF0aW9uIiwiRFJPUCIsInRpdGxlIiwiYWRkTGlzdGVuZXIiLCJvcGVuIiwiYW5pbWF0ZWRTY3JvbGwiLCJzY3JvbGxUb3AiLCJzdG9wIiwiYW5pbWF0ZSIsInNhdmVEYXRhIiwiYXR0ZW5kaW5nIiwiZ3Vlc3RUeXBlIiwiZm9vZE9wdGlvbiIsIm5hbWUiLCJ2YWwiLCJlbWFpbCIsImNvbW1lbnQiLCJkYXRhTGF5ZXIiLCJmb29kT3B0aW9uSXNQcmVzZW50IiwidW5kZWZpbmVkIiwiZm9vZE9wdGlvblRleHQiLCJkYXRhUmVmIiwiRmlyZWJhc2UiLCJhdXRoQW5vbnltb3VzbHkiLCJlcnJvciIsImF1dGhEYXRhIiwiY29uc29sZSIsImxvZyIsInJzdnBEYXRhUmVmIiwiY2hpbGQiLCJjcmVhdGVEYXRlIiwidG9JU09TdHJpbmciLCJrbyIsImFwcGx5QmluZGluZ3MiLCJjbGljayIsImUiLCJwcmV2ZW50RGVmYXVsdCIsImhyZWYiLCJhdHRyIiwib2Zmc2V0IiwidG9wIiwiaXNEZWZhdWx0UHJldmVudGVkIiwicmVtb3ZlQ2xhc3MiLCJhZGRDbGFzcyIsImZhZGVJbiIsImNoYW5nZSIsImZhZGVPdXQiXSwibWFwcGluZ3MiOiJBQUFBLFlBRUEsU0FBU0EsT0FBTUMsR0FDWCxHQUFJQyxHQUFPQyxJQUNYRCxHQUFLRSxhQUFrQkMsaUJBQWdCLElBQUlKLEVBRy9DLFFBQVNLLFVBQVNMLEdBQ2QsR0FBSUMsR0FBT0MsSUFDWEQsR0FBS0ssSUFBU0Msb0JBQW1CLElBQUlQLEVBR3pDLFFBQVNPLHFCQUNMLE1BQUlDLFlBQ08scUJBRUEsY0FJZixRQUFTSixrQkFDTCxNQUFJSSxZQUNPLDZCQUVBLHNCQUlmLFFBQVNDLGdCQUNMUCxLQUFLUSxRQUNELEdBQUlYLE9BQU0sZUFDVixHQUFJQSxPQUFNLGVBQ1YsR0FBSUEsT0FBTSxnQkFDVixHQUFJQSxPQUFNLGlCQUdkWSxRQUFRVCxLQUFLUSxRQUViUixLQUFLVSxjQUFnQkMsbUJBR3pCLFFBQVNGLFNBQVFHLEdBQ2IsSUFBSyxHQUFJQyxHQUFJRCxFQUFNRSxPQUFTLEVBQUdELEVBQUksRUFBR0EsSUFBSyxDQUN2QyxHQUFJRSxHQUFJQyxLQUFLQyxNQUFNRCxLQUFLRSxVQUFZTCxFQUFJLElBQ3BDTSxFQUFPUCxFQUFNQyxFQUNqQkQsR0FBTUMsR0FBS0QsRUFBTUcsR0FDakJILEVBQU1HLEdBQUtJLEVBRWYsTUFBT1AsR0NoRFgsUUFBU1Esd0JBQ0xDLFlBQVlDLFVBQ1JDLFFBQWEsdUJBQ2JDLE9BQWEsRUFDYkMsS0FBYSxFQUNiQyxTQUFjQyxNQUFLLEVBQU9DLEtBQUssV0FDL0JDLFFBQWNGLE1BQUssRUFBTUMsS0FBSyw0QkFDOUJFLE9BQWNILE1BQUssRUFBT0MsS0FBSywyQkFDL0JHLFlBQWNKLE1BQUssRUFBTUMsS0FBSyxp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QSxFQUNQTCxVQUFXQSxFQUNYQyxVQUFXQSxFQUNYSyxRQUFTQSxFQUNUSixXQUFZUSxFQUNaVSxZQUFZLEdBQUk5RSxPQUFPK0UsbUJUcEIzQ0MsR0FBR0MsY0FBYyxHQUFJbkosZVFuRHJCOEIsRUFBRSxjQUFjc0gsTUFBTSxTQUFVQyxHQUM1QkEsRUFBRUMsaUJBQ0YvQixlQUFlLEtBU25CekYsRUFBRSxnQkFBZ0JzSCxNQUFNLFNBQVVDLEdBQzlCQSxFQUFFQyxnQkFDRixJQUFJQyxHQUFPekgsRUFBRSxnQkFBZ0IwSCxLQUFLLE9BQ2xDakMsZ0JBQWV6RixFQUFFeUgsR0FBTUUsU0FBU0MsT0NacEM1SCxFQUFFLGNBQWNDLFlBQVk4QyxHQUFHLFNBQVUsU0FBVXdFLEdBQzNDQSxFQUFFTSxxQkFDRmYsUUFBUUMsSUFBSSxzQkFFWlEsRUFBRUMsaUJBRUYzQixXQUVBN0YsRUFBRSxZQUFZOEgsWUFBWSxnQkFDMUI5SCxFQUFFLGNBQWMrSCxTQUFTLFFBQ3pCL0gsRUFBRSxlQUFlZ0ksU0FDakJ2QyxlQUFlLE1BSXZCekYsRUFBRSxrQ0FBa0NpSSxPQUFPLFdBQ25DakksRUFBRSxpQkFBaUJLLEdBQUcsWUFDdEJMLEVBQUUsZUFBZWdJLFNBQ1ZoSSxFQUFFLGtCQUFrQkssR0FBRyxhQUM5QkwsRUFBRSxlQUFla0kiLCJmaWxlIjoiYnVuZGxlLmpzIiwic291cmNlc0NvbnRlbnQiOlsiJ3VzZSBzdHJpY3QnO1xuXG5mdW5jdGlvbiBQaG90byhwaG90bykge1xuICAgIHZhciBzZWxmID0gdGhpcztcbiAgICBzZWxmLnRodW1ibmFpbFVybCA9IGAke3Bob3RvRGlyZWN0b3J5KCl9LyR7cGhvdG99YDtcbn1cblxuZnVuY3Rpb24gVGVhUGhvdG8ocGhvdG8pIHtcbiAgICB2YXIgc2VsZiA9IHRoaXM7XG4gICAgc2VsZi51cmwgPSBgJHt0ZWFQaG90b0RpcmVjdG9yeSgpfS8ke3Bob3RvfWA7XG59XG5cbmZ1bmN0aW9uIHRlYVBob3RvRGlyZWN0b3J5KCkge1xuICAgIGlmIChpc01vYmlsZSgpKSB7XG4gICAgICAgIHJldHVybiAnL2ltYWdlcy90ZWEvbW9iaWxlJztcbiAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gJy9pbWFnZXMvdGVhJztcbiAgICB9XG59XG5cbmZ1bmN0aW9uIHBob3RvRGlyZWN0b3J5KCkge1xuICAgIGlmIChpc01vYmlsZSgpKSB7XG4gICAgICAgIHJldHVybiAnL2ltYWdlcy9tYW5uYS9tb2JpbGUtdGh1bWInO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiAnL2ltYWdlcy9tYW5uYS90aHVtYic7XG4gICAgfVxufVxuXG5mdW5jdGlvbiBBcHBWaWV3TW9kZWwoKSB7XG4gICAgdGhpcy5waG90b3MgPSBbXG4gICAgICAgIG5ldyBQaG90byhcIm1hbm5hLTEucG5nXCIpLFxuICAgICAgICBuZXcgUGhvdG8oXCJtYW5uYS0yLnBuZ1wiKSxcbiAgICAgICAgbmV3IFBob3RvKFwibWFubmEtMy5qcGVnXCIpLFxuICAgICAgICBuZXcgUGhvdG8oXCJtYW5uYS00LmpwZWdcIiksXG4gICAgXTtcblxuICAgIHNodWZmbGUodGhpcy5waG90b3MpO1xuXG4gICAgdGhpcy5kZXZpY2VDbGFzc2VzID0gYWRkRGV2aWNlQ2xhc3NlcygpO1xufVxuXG5mdW5jdGlvbiBzaHVmZmxlKGFycmF5KSB7XG4gICAgZm9yICh2YXIgaSA9IGFycmF5Lmxlbmd0aCAtIDE7IGkgPiAwOyBpLS0pIHtcbiAgICAgICAgdmFyIGogPSBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiAoaSArIDEpKTtcbiAgICAgICAgdmFyIHRlbXAgPSBhcnJheVtpXTtcbiAgICAgICAgYXJyYXlbaV0gPSBhcnJheVtqXTtcbiAgICAgICAgYXJyYXlbal0gPSB0ZW1wO1xuICAgIH1cbiAgICByZXR1cm4gYXJyYXk7XG59XG5cbmtvLmFwcGx5QmluZGluZ3MobmV3IEFwcFZpZXdNb2RlbCgpKTsiLCJmdW5jdGlvbiBpbml0Q2FsZW5kZXJTZXR0aW5ncygpIHtcbiAgICBhZGRldmVudGF0Yy5zZXR0aW5ncyh7XG4gICAgICAgIGxpY2Vuc2UgICAgOiBcIjAwMDAwMDAwMDAwMDAwMDAwMDAwXCIsXG4gICAgICAgIG1vdXNlICAgICAgOiBmYWxzZSxcbiAgICAgICAgY3NzICAgICAgICA6IHRydWUsXG4gICAgICAgIG91dGxvb2sgICAgOiB7c2hvdzpmYWxzZSwgdGV4dDpcIk91dGxvb2tcIn0sXG4gICAgICAgIGdvb2dsZSAgICAgOiB7c2hvdzp0cnVlLCB0ZXh0OlwiR29vZ2xlIDxlbT4ob25saW5lKTwvZW0+XCJ9LFxuICAgICAgICB5YWhvbyAgICAgIDoge3Nob3c6ZmFsc2UsIHRleHQ6XCJZYWhvbyA8ZW0+KG9ubGluZSk8L2VtPlwifSxcbiAgICAgICAgb3V0bG9va2NvbSA6IHtzaG93OnRydWUsIHRleHQ6XCJPdXRsb29rLmNvbSA8ZW0+KG9ubGluZSk8L2VtPlwifSxcbiAgICAgICAgYXBwbGVpY2FsICA6IHtzaG93OnRydWUsIHRleHQ6XCJBcHBsZSBDYWxlbmRhclwifSxcbiAgICAgICAgZmFjZWJvb2sgICA6IHtzaG93OmZhbHNlLCB0ZXh0OlwiRmFjZWJvb2sgRXZlbnRcIn0sXG4gICAgICAgIGRyb3Bkb3duICAgOiB7b3JkZXI6XCJnb29nbGUsYXBwbGVpY2FsLGZhY2Vib29rLG91dGxvb2tjb21cIn1cbiAgICB9KTtcbn1cbiIsImZ1bmN0aW9uIGluaXRDdXN0b21WYWxpZGF0b3JzKCkge1xuICAgICQoKS52YWxpZGF0b3Ioe1xuICAgICAgICBjdXN0b206IHtcbiAgICAgICAgICAgICdyc3ZwLWNoZWNrZWQnOiBmdW5jdGlvbigkZWwpIHtcbiAgICAgICAgICAgICAgICBpZiAoISQoJyNhdHRlbmRpbmcnKS5pcygnOmNoZWNrZWQnKSAmJiAhJCgnI25vdC1hdHRlbmRpbmcnKS5pcygnOmNoZWNrZWQnKSkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgJ3JzdnAtdHlwZS1jaGVja2VkJzogZnVuY3Rpb24oJGVsKSB7XG4gICAgICAgICAgICAgICAgaWYgKCEkKCcjcHJvcGVyLWd1ZXN0JykuaXMoJzpjaGVja2VkJykgJiYgISQoJyNldmVuaW5nLWd1ZXN0JykuaXMoJzpjaGVja2VkJykpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfSk7XG59XG4iLCJmdW5jdGlvbiBpc01vYmlsZSgpIHtcbiAgICB2YXIgY2hlY2sgPSBmYWxzZTtcbiAgICAoZnVuY3Rpb24oYSl7XG4gICAgICAgIGlmKC8oYW5kcm9pZHxiYlxcZCt8bWVlZ28pLittb2JpbGV8YXZhbnRnb3xiYWRhXFwvfGJsYWNrYmVycnl8YmxhemVyfGNvbXBhbHxlbGFpbmV8ZmVubmVjfGhpcHRvcHxpZW1vYmlsZXxpcChob25lfG9kKXxpcmlzfGtpbmRsZXxsZ2UgfG1hZW1vfG1pZHB8bW1wfG1vYmlsZS4rZmlyZWZveHxuZXRmcm9udHxvcGVyYSBtKG9ifGluKWl8cGFsbSggb3MpP3xwaG9uZXxwKGl4aXxyZSlcXC98cGx1Y2tlcnxwb2NrZXR8cHNwfHNlcmllcyg0fDYpMHxzeW1iaWFufHRyZW98dXBcXC4oYnJvd3NlcnxsaW5rKXx2b2RhZm9uZXx3YXB8d2luZG93cyBjZXx4ZGF8eGlpbm8vaS50ZXN0KGEpfHwvMTIwN3w2MzEwfDY1OTB8M2dzb3w0dGhwfDUwWzEtNl1pfDc3MHN8ODAyc3xhIHdhfGFiYWN8YWMoZXJ8b298c1xcLSl8YWkoa298cm4pfGFsKGF2fGNhfGNvKXxhbW9pfGFuKGV4fG55fHl3KXxhcHR1fGFyKGNofGdvKXxhcyh0ZXx1cyl8YXR0d3xhdShkaXxcXC1tfHIgfHMgKXxhdmFufGJlKGNrfGxsfG5xKXxiaShsYnxyZCl8YmwoYWN8YXopfGJyKGV8dil3fGJ1bWJ8YndcXC0obnx1KXxjNTVcXC98Y2FwaXxjY3dhfGNkbVxcLXxjZWxsfGNodG18Y2xkY3xjbWRcXC18Y28obXB8bmQpfGNyYXd8ZGEoaXR8bGx8bmcpfGRidGV8ZGNcXC1zfGRldml8ZGljYXxkbW9ifGRvKGN8cClvfGRzKDEyfFxcLWQpfGVsKDQ5fGFpKXxlbShsMnx1bCl8ZXIoaWN8azApfGVzbDh8ZXooWzQtN10wfG9zfHdhfHplKXxmZXRjfGZseShcXC18Xyl8ZzEgdXxnNTYwfGdlbmV8Z2ZcXC01fGdcXC1tb3xnbyhcXC53fG9kKXxncihhZHx1bil8aGFpZXxoY2l0fGhkXFwtKG18cHx0KXxoZWlcXC18aGkocHR8dGEpfGhwKCBpfGlwKXxoc1xcLWN8aHQoYyhcXC18IHxffGF8Z3xwfHN8dCl8dHApfGh1KGF3fHRjKXxpXFwtKDIwfGdvfG1hKXxpMjMwfGlhYyggfFxcLXxcXC8pfGlicm98aWRlYXxpZzAxfGlrb218aW0xa3xpbm5vfGlwYXF8aXJpc3xqYSh0fHYpYXxqYnJvfGplbXV8amlnc3xrZGRpfGtlaml8a2d0KCB8XFwvKXxrbG9ufGtwdCB8a3djXFwtfGt5byhjfGspfGxlKG5vfHhpKXxsZyggZ3xcXC8oa3xsfHUpfDUwfDU0fFxcLVthLXddKXxsaWJ3fGx5bnh8bTFcXC13fG0zZ2F8bTUwXFwvfG1hKHRlfHVpfHhvKXxtYygwMXwyMXxjYSl8bVxcLWNyfG1lKHJjfHJpKXxtaShvOHxvYXx0cyl8bW1lZnxtbygwMXwwMnxiaXxkZXxkb3x0KFxcLXwgfG98dil8enopfG10KDUwfHAxfHYgKXxtd2JwfG15d2F8bjEwWzAtMl18bjIwWzItM118bjMwKDB8Mil8bjUwKDB8Mnw1KXxuNygwKDB8MSl8MTApfG5lKChjfG0pXFwtfG9ufHRmfHdmfHdnfHd0KXxub2soNnxpKXxuenBofG8yaW18b3AodGl8d3YpfG9yYW58b3dnMXxwODAwfHBhbihhfGR8dCl8cGR4Z3xwZygxM3xcXC0oWzEtOF18YykpfHBoaWx8cGlyZXxwbChheXx1Yyl8cG5cXC0yfHBvKGNrfHJ0fHNlKXxwcm94fHBzaW98cHRcXC1nfHFhXFwtYXxxYygwN3wxMnwyMXwzMnw2MHxcXC1bMi03XXxpXFwtKXxxdGVrfHIzODB8cjYwMHxyYWtzfHJpbTl8cm8odmV8em8pfHM1NVxcL3xzYShnZXxtYXxtbXxtc3xueXx2YSl8c2MoMDF8aFxcLXxvb3xwXFwtKXxzZGtcXC98c2UoYyhcXC18MHwxKXw0N3xtY3xuZHxyaSl8c2doXFwtfHNoYXJ8c2llKFxcLXxtKXxza1xcLTB8c2woNDV8aWQpfHNtKGFsfGFyfGIzfGl0fHQ1KXxzbyhmdHxueSl8c3AoMDF8aFxcLXx2XFwtfHYgKXxzeSgwMXxtYil8dDIoMTh8NTApfHQ2KDAwfDEwfDE4KXx0YShndHxsayl8dGNsXFwtfHRkZ1xcLXx0ZWwoaXxtKXx0aW1cXC18dFxcLW1vfHRvKHBsfHNoKXx0cyg3MHxtXFwtfG0zfG01KXx0eFxcLTl8dXAoXFwuYnxnMXxzaSl8dXRzdHx2NDAwfHY3NTB8dmVyaXx2aShyZ3x0ZSl8dmsoNDB8NVswLTNdfFxcLXYpfHZtNDB8dm9kYXx2dWxjfHZ4KDUyfDUzfDYwfDYxfDcwfDgwfDgxfDgzfDg1fDk4KXx3M2MoXFwtfCApfHdlYmN8d2hpdHx3aShnIHxuY3xudyl8d21sYnx3b251fHg3MDB8eWFzXFwtfHlvdXJ8emV0b3x6dGVcXC0vaS50ZXN0KGEuc3Vic3RyKDAsNCkpKVxuICAgICAgICBjaGVjayA9IHRydWVcbiAgICB9KShuYXZpZ2F0b3IudXNlckFnZW50fHxuYXZpZ2F0b3IudmVuZG9yfHx3aW5kb3cub3BlcmEpO1xuICAgIHJldHVybiBjaGVjaztcbn1cblxuZnVuY3Rpb24gaXNpT1MoKSB7XG4gICAgcmV0dXJuIG5hdmlnYXRvci51c2VyQWdlbnQubWF0Y2goLyhpUGFkfGlQaG9uZXxpUG9kKS9nKTtcbn1cblxuZnVuY3Rpb24gaXNUYWJsZXQoKSB7XG4gICAgdmFyIHVzZXJBZ2VudCA9IG5hdmlnYXRvci51c2VyQWdlbnQudG9Mb3dlckNhc2UoKTtcbiAgICB2YXIgaXNTb21lS2luZE9mQW5kcm9pZFRhYmxldCA9ICh1c2VyQWdlbnQuaW5kZXhPZihcImFuZHJvaWRcIikgPiAtMSAmJiAhdXNlckFnZW50LmluZGV4T2YoXCJtb2JpbGVcIikpO1xuICAgIHZhciBpc1RhYmxldCA9IC9pUGFkfEh1ZGx8S2luZGxlfFNpbGt8S0ZBUFd8S0ZBUldJfEtGQVNXSXxLRkZPV0l8S0ZKV3xLRk1FV0l8S0ZPVHxLRlNBV3xLRlRIV0l8S0ZTT1dJfEtGVEJXfEtGVOKAjOKAi0hXfEtGVFR8V0ZGT1dJfE5leHVzIDEwIEJ1aWxkfE5leHVzIDkgQnVpbGR8TmV4dXMgOCBCdWlsZHxOZXh1cyA3IEJ1aWxkfFNNLVQzMzB8U00tVDIzMnxTTS1UMzM1fFNNLVQyMTB8U00tVDIxMFJ8R1QtUDUyMTB8U00tVDIxMFJ8U00tVDMxMXxHVC1QNTIwMHxTTS1UMjE3U3xTTS1UMzEwfFNNLVQzMTV8U00tVDExMHxTTS1UNTMwfFNNLVQyMTF8U00tVDExMHxHVC1QNTExMHxHVC1QNTEwMHxHVC1QMzExMHxHVC1QNTExM3xHVC1QMzEwMEJ8R1QtUDMxMDB8R1QtUDMxMDB8U00tVDM1MHxTTS1UNTUwfFNNLVQyMzB8U00tVDgwMHxTTS1UNzAwfFNNLVQ4MDV8U00tVDcwNXxTTS1UNTMzfExlbm92byBBNzYwMC1GfFNNLVR8QTUwMHxBMS04MTB8VHJhbnNmb3JtZXJ8dGFibGV0L2kudGVzdCh1c2VyQWdlbnQpO1xuXG4gICAgcmV0dXJuIGlzVGFibGV0IHx8IGlzU29tZUtpbmRPZkFuZHJvaWRUYWJsZXQ7XG59XG5cbmZ1bmN0aW9uIGlzQW5kcm9pZCgpIHtcbiAgICB2YXIgdXNlckFnZW50ID0gbmF2aWdhdG9yLnVzZXJBZ2VudC50b0xvd2VyQ2FzZSgpO1xuICAgIHJldHVybiB1c2VyQWdlbnQuaW5kZXhPZihcImFuZHJvaWRcIik7XG59XG5cbmZ1bmN0aW9uIGlzRGVza3RvcCgpIHtcbiAgICByZXR1cm4gIWlzTW9iaWxlKCkgJiYgIWlzVGFibGV0KCk7XG59XG5cbmZ1bmN0aW9uIGFkZERldmljZUNsYXNzZXMoKSB7XG4gICAgdmFyIGNsYXNzZXMgPSAnJztcblxuICAgIGlmIChpc2lPUygpKSB7XG4gICAgICAgIGNsYXNzZXMgPSBjbGFzc2VzLmNvbmNhdCgnaW9zICcpO1xuICAgIH1cblxuICAgIGlmIChpc01vYmlsZSgpKSB7XG4gICAgICAgIGNsYXNzZXMgPSBjbGFzc2VzLmNvbmNhdCgnbW9iaWxlICcpO1xuICAgIH1cbiAgICBlbHNlIGlmIChpc1RhYmxldCgpKSB7XG4gICAgICAgIGNsYXNzZXMgPSBjbGFzc2VzLmNvbmNhdCgndGFibGV0Jyk7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICBjbGFzc2VzID0gY2xhc3Nlcy5jb25jYXQoJ2Rlc2t0b3AnKTtcbiAgICB9XG5cbiAgICByZXR1cm4gY2xhc3Nlcztcbn0iLCJmdW5jdGlvbiBpbml0R29vZ2xlQW5hbHl0aWNzKCkge1xuICAgIChmdW5jdGlvbihpLHMsbyxnLHIsYSxtKXtpWydHb29nbGVBbmFseXRpY3NPYmplY3QnXT1yO2lbcl09aVtyXXx8ZnVuY3Rpb24oKXtcbiAgICAgICAgICAgIChpW3JdLnE9aVtyXS5xfHxbXSkucHVzaChhcmd1bWVudHMpfSxpW3JdLmw9MSpuZXcgRGF0ZSgpO2E9cy5jcmVhdGVFbGVtZW50KG8pLFxuICAgICAgICBtPXMuZ2V0RWxlbWVudHNCeVRhZ05hbWUobylbMF07YS5hc3luYz0xO2Euc3JjPWc7bS5wYXJlbnROb2RlLmluc2VydEJlZm9yZShhLG0pXG4gICAgfSkod2luZG93LGRvY3VtZW50LCdzY3JpcHQnLCcvL3d3dy5nb29nbGUtYW5hbHl0aWNzLmNvbS9hbmFseXRpY3MuanMnLCdnYScpO1xuXG4gICAgZ2EoJ2NyZWF0ZScsICdVQS03MTczNzIxNi0xJywgJ2F1dG8nKTtcbiAgICBnYSgnc2VuZCcsICdwYWdldmlldycpO1xufVxuIiwiZnVuY3Rpb24gZGlzYWJsZVJpZ2h0Q2xpY2soKSB7XG4gICAgJCgnLmRpc2FibGUtcmlnaHRjbGljaycpLmJpbmQoJ2NvbnRleHRtZW51JywgZnVuY3Rpb24oKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9KTtcblxuICAgICQoJyNwcmludCcpLm9uKCdjbGljaycsIGZ1bmN0aW9uKCl7XG4gICAgICAgIHdpbmRvdy5wcmludCgpO1xuICAgIH0pO1xufSIsImZ1bmN0aW9uIGluaXRMaWdodGJveEdhbGxlcnkoKSB7XG4gICAgJC50b3NydXMuZGVmYXVsdHMubWVkaWEuaW1hZ2UgPSB7XG4gICAgICAgIGZpbHRlckFuY2hvcnM6IGZ1bmN0aW9uICgkYW5jaG9yKSB7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICAkKCcjbGlnaHRib3hnYWxsZXJ5IGEnKS50b3NydXMoe1xuICAgICAgICBpbmZpbml0ZTogdHJ1ZSxcbiAgICAgICAgcGFnaW5hdGlvbjoge1xuICAgICAgICAgICAgYWRkOiB0cnVlXG4gICAgICAgIH0sXG4gICAgICAgIGtleXM6IHtcbiAgICAgICAgICAgIHByZXY6IHRydWUsXG4gICAgICAgICAgICBuZXh0OiB0cnVlLFxuICAgICAgICAgICAgY2xvc2U6IHRydWVcbiAgICAgICAgfSxcbiAgICAgICAgd3JhcHBlcjoge1xuICAgICAgICAgICAgb25DbGljazogJ2Nsb3NlJ1xuICAgICAgICB9XG4gICAgfSk7XG59XG4iLCJcInVzZSBzdHJpY3RcIjtcblxuZnVuY3Rpb24gaW5pdE1hcCgpIHtcbiAgICB2YXIgbGF0TG9uZyA9IHtcbiAgICAgICAgbGF0OiA1MS40NDI0NDMzOTk5OTk5OSxcbiAgICAgICAgbG5nOiAtMC4yOTQ0NDE0XG4gICAgfTtcblxuICAgIHZhciBtYXAgPSBuZXcgZ29vZ2xlLm1hcHMuTWFwKGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdtYXAnKSwge1xuICAgICAgICBjZW50ZXI6IGxhdExvbmcsXG4gICAgICAgIHpvb206IDE1XG4gICAgICAgIC8vZHJhZ2dhYmxlOiAhaXNNb2JpbGUoKVxuICAgIH0pO1xuXG4gICAgdmFyIGNvbnRlbnRTdHJpbmcgPVxuICAgICAgICAnPGRpdiBpZD1cImluZm8td2luZG93XCI+JytcbiAgICAgICAgICAgICc8aDQ+UGVtYnJva2UgTG9kZ2U8L2g0PicrXG4gICAgICAgICAgICAnPGEgaHJlZj1cImh0dHBzOi8vZ29vLmdsL21hcHMvWUh2YkZQVzdmOVEyXCIgdGFyZ2V0PVwiX2JsYW5rXCI+JyArXG4gICAgICAgICAgICAgICAgJzxpbWcgY2xhc3M9XCJpbWctcmVzcG9uc2l2ZVwiIHNyYz1cIi9pbWFnZXMvcGVtYnJva2UuanBnXCI+JyArXG4gICAgICAgICAgICAnPC9hPicgK1xuICAgICAgICAgICAgJzx1bCBjbGFzcz1cImFjdGlvbi1saXN0XCI+JyArXG4gICAgICAgICAgICAgICAgJzxsaT48YSBocmVmPVwiaHR0cHM6Ly9nb28uZ2wvbWFwcy9hVXMyQ3U4UnFMbVwiIHRhcmdldD1cIl9ibGFua1wiPkdldCBkaXJlY3Rpb25zPC9hPjwvbGk+JyArXG4gICAgICAgICAgICAgICAgJzxsaT48YSBocmVmPVwiaHR0cHM6Ly9nb28uZ2wvbWFwcy9ZSHZiRlBXN2Y5UTJcIiB0YXJnZXQ9XCJfYmxhbmtcIj5TZWUgb24gR29vZ2xlIG1hcHM8L2E+PC9saT4nK1xuICAgICAgICAnPC91bD4nK1xuICAgICAgICAnPC9kaXY+JztcblxuICAgIHZhciBpbmZvd2luZG93ID0gbmV3IGdvb2dsZS5tYXBzLkluZm9XaW5kb3coe1xuICAgICAgICBjb250ZW50OiBjb250ZW50U3RyaW5nLFxuICAgICAgICBtYXhXaWR0aDogMTgwXG4gICAgfSk7XG5cbiAgICB2YXIgbWFya2VyID0gbmV3IGdvb2dsZS5tYXBzLk1hcmtlcih7XG4gICAgICAgIHBvc2l0aW9uOiBsYXRMb25nLFxuICAgICAgICBtYXA6IG1hcCxcbiAgICAgICAgYW5pbWF0aW9uOiBnb29nbGUubWFwcy5BbmltYXRpb24uRFJPUCxcbiAgICAgICAgdGl0bGU6ICdNaWNoYWVsICYgQW5uYVxcJ3MgV2VkZGluZyB2ZW51ZSEnXG4gICAgfSk7XG5cbiAgICBtYXJrZXIuYWRkTGlzdGVuZXIoJ2NsaWNrJywgZnVuY3Rpb24oKSB7XG4gICAgICAgIGluZm93aW5kb3cub3BlbihtYXAsIG1hcmtlcik7XG4gICAgfSk7XG59XG5cbmZ1bmN0aW9uIGlzTW9iaWxlKCkge1xuICAgIHZhciBjaGVjayA9IGZhbHNlO1xuICAgIChmdW5jdGlvbihhKXtpZigvKGFuZHJvaWR8YmJcXGQrfG1lZWdvKS4rbW9iaWxlfGF2YW50Z298YmFkYVxcL3xibGFja2JlcnJ5fGJsYXplcnxjb21wYWx8ZWxhaW5lfGZlbm5lY3xoaXB0b3B8aWVtb2JpbGV8aXAoaG9uZXxvZCl8aXJpc3xraW5kbGV8bGdlIHxtYWVtb3xtaWRwfG1tcHxtb2JpbGUuK2ZpcmVmb3h8bmV0ZnJvbnR8b3BlcmEgbShvYnxpbilpfHBhbG0oIG9zKT98cGhvbmV8cChpeGl8cmUpXFwvfHBsdWNrZXJ8cG9ja2V0fHBzcHxzZXJpZXMoNHw2KTB8c3ltYmlhbnx0cmVvfHVwXFwuKGJyb3dzZXJ8bGluayl8dm9kYWZvbmV8d2FwfHdpbmRvd3MgY2V8eGRhfHhpaW5vL2kudGVzdChhKXx8LzEyMDd8NjMxMHw2NTkwfDNnc298NHRocHw1MFsxLTZdaXw3NzBzfDgwMnN8YSB3YXxhYmFjfGFjKGVyfG9vfHNcXC0pfGFpKGtvfHJuKXxhbChhdnxjYXxjbyl8YW1vaXxhbihleHxueXx5dyl8YXB0dXxhcihjaHxnbyl8YXModGV8dXMpfGF0dHd8YXUoZGl8XFwtbXxyIHxzICl8YXZhbnxiZShja3xsbHxucSl8YmkobGJ8cmQpfGJsKGFjfGF6KXxicihlfHYpd3xidW1ifGJ3XFwtKG58dSl8YzU1XFwvfGNhcGl8Y2N3YXxjZG1cXC18Y2VsbHxjaHRtfGNsZGN8Y21kXFwtfGNvKG1wfG5kKXxjcmF3fGRhKGl0fGxsfG5nKXxkYnRlfGRjXFwtc3xkZXZpfGRpY2F8ZG1vYnxkbyhjfHApb3xkcygxMnxcXC1kKXxlbCg0OXxhaSl8ZW0obDJ8dWwpfGVyKGljfGswKXxlc2w4fGV6KFs0LTddMHxvc3x3YXx6ZSl8ZmV0Y3xmbHkoXFwtfF8pfGcxIHV8ZzU2MHxnZW5lfGdmXFwtNXxnXFwtbW98Z28oXFwud3xvZCl8Z3IoYWR8dW4pfGhhaWV8aGNpdHxoZFxcLShtfHB8dCl8aGVpXFwtfGhpKHB0fHRhKXxocCggaXxpcCl8aHNcXC1jfGh0KGMoXFwtfCB8X3xhfGd8cHxzfHQpfHRwKXxodShhd3x0Yyl8aVxcLSgyMHxnb3xtYSl8aTIzMHxpYWMoIHxcXC18XFwvKXxpYnJvfGlkZWF8aWcwMXxpa29tfGltMWt8aW5ub3xpcGFxfGlyaXN8amEodHx2KWF8amJyb3xqZW11fGppZ3N8a2RkaXxrZWppfGtndCggfFxcLyl8a2xvbnxrcHQgfGt3Y1xcLXxreW8oY3xrKXxsZShub3x4aSl8bGcoIGd8XFwvKGt8bHx1KXw1MHw1NHxcXC1bYS13XSl8bGlid3xseW54fG0xXFwtd3xtM2dhfG01MFxcL3xtYSh0ZXx1aXx4byl8bWMoMDF8MjF8Y2EpfG1cXC1jcnxtZShyY3xyaSl8bWkobzh8b2F8dHMpfG1tZWZ8bW8oMDF8MDJ8Yml8ZGV8ZG98dChcXC18IHxvfHYpfHp6KXxtdCg1MHxwMXx2ICl8bXdicHxteXdhfG4xMFswLTJdfG4yMFsyLTNdfG4zMCgwfDIpfG41MCgwfDJ8NSl8bjcoMCgwfDEpfDEwKXxuZSgoY3xtKVxcLXxvbnx0Znx3Znx3Z3x3dCl8bm9rKDZ8aSl8bnpwaHxvMmltfG9wKHRpfHd2KXxvcmFufG93ZzF8cDgwMHxwYW4oYXxkfHQpfHBkeGd8cGcoMTN8XFwtKFsxLThdfGMpKXxwaGlsfHBpcmV8cGwoYXl8dWMpfHBuXFwtMnxwbyhja3xydHxzZSl8cHJveHxwc2lvfHB0XFwtZ3xxYVxcLWF8cWMoMDd8MTJ8MjF8MzJ8NjB8XFwtWzItN118aVxcLSl8cXRla3xyMzgwfHI2MDB8cmFrc3xyaW05fHJvKHZlfHpvKXxzNTVcXC98c2EoZ2V8bWF8bW18bXN8bnl8dmEpfHNjKDAxfGhcXC18b298cFxcLSl8c2RrXFwvfHNlKGMoXFwtfDB8MSl8NDd8bWN8bmR8cmkpfHNnaFxcLXxzaGFyfHNpZShcXC18bSl8c2tcXC0wfHNsKDQ1fGlkKXxzbShhbHxhcnxiM3xpdHx0NSl8c28oZnR8bnkpfHNwKDAxfGhcXC18dlxcLXx2ICl8c3koMDF8bWIpfHQyKDE4fDUwKXx0NigwMHwxMHwxOCl8dGEoZ3R8bGspfHRjbFxcLXx0ZGdcXC18dGVsKGl8bSl8dGltXFwtfHRcXC1tb3x0byhwbHxzaCl8dHMoNzB8bVxcLXxtM3xtNSl8dHhcXC05fHVwKFxcLmJ8ZzF8c2kpfHV0c3R8djQwMHx2NzUwfHZlcml8dmkocmd8dGUpfHZrKDQwfDVbMC0zXXxcXC12KXx2bTQwfHZvZGF8dnVsY3x2eCg1Mnw1M3w2MHw2MXw3MHw4MHw4MXw4M3w4NXw5OCl8dzNjKFxcLXwgKXx3ZWJjfHdoaXR8d2koZyB8bmN8bncpfHdtbGJ8d29udXx4NzAwfHlhc1xcLXx5b3VyfHpldG98enRlXFwtL2kudGVzdChhLnN1YnN0cigwLDQpKSljaGVjayA9IHRydWV9KShuYXZpZ2F0b3IudXNlckFnZW50fHxuYXZpZ2F0b3IudmVuZG9yfHx3aW5kb3cub3BlcmEpO1xuICAgIHJldHVybiBjaGVjaztcbn0iLCIkKCcjYmFja3RvdG9wJykuY2xpY2soZnVuY3Rpb24gKGUpIHtcbiAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgYW5pbWF0ZWRTY3JvbGwoMCk7XG59KTtcblxuZnVuY3Rpb24gYW5pbWF0ZWRTY3JvbGwoc2Nyb2xsVG9wKSB7XG4gICAgJCgnaHRtbCwgYm9keScpLnN0b3AoKS5hbmltYXRlKHtcbiAgICAgICAgc2Nyb2xsVG9wOiBzY3JvbGxUb3BcbiAgICB9LCA3MDApO1xufVxuXG4kKCcudGF4aS1idXR0b24nKS5jbGljayhmdW5jdGlvbiAoZSkge1xuICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICB2YXIgaHJlZiA9ICQoJy50YXhpLWJ1dHRvbicpLmF0dHIoJ2hyZWYnKTtcbiAgICBhbmltYXRlZFNjcm9sbCgkKGhyZWYpLm9mZnNldCgpLnRvcCk7XG59KTsiLCIndXNlIHN0cmljdCc7XG5cbiQoJy5yc3ZwLWZvcm0nKS52YWxpZGF0b3IoKS5vbignc3VibWl0JywgZnVuY3Rpb24gKGUpIHtcbiAgICBpZiAoZS5pc0RlZmF1bHRQcmV2ZW50ZWQoKSkge1xuICAgICAgICBjb25zb2xlLmxvZygnQW4gZXJyb3Igb2NjdXJyZWQnKTtcbiAgICB9IGVsc2Uge1xuICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG5cbiAgICAgICAgc2F2ZURhdGEoKTtcblxuICAgICAgICAkKCcub3ZlcmxheScpLnJlbW92ZUNsYXNzKCdvdmVybGF5LXNob3cnKTtcbiAgICAgICAgJCgnLnJzdnAtZm9ybScpLmFkZENsYXNzKCdoaWRlJyk7XG4gICAgICAgICQoJy5lbWFpbC1zZW50JykuZmFkZUluKCk7XG4gICAgICAgIGFuaW1hdGVkU2Nyb2xsKDApO1xuICAgIH1cbn0pO1xuXG4kKFwiaW5wdXRbbmFtZT0nZ3Vlc3RUeXBlT3B0aW9ucyddXCIpLmNoYW5nZShmdW5jdGlvbiAoKSB7XG4gICAgaWYgKCQoJyNwcm9wZXItZ3Vlc3QnKS5pcygnOmNoZWNrZWQnKSkge1xuICAgICAgICAkKCcuZm9vZC1ncm91cCcpLmZhZGVJbigpO1xuICAgIH0gZWxzZSBpZiAoJCgnI2V2ZW5pbmctZ3Vlc3QnKS5pcygnOmNoZWNrZWQnKSkge1xuICAgICAgICAkKCcuZm9vZC1ncm91cCcpLmZhZGVPdXQoKTtcbiAgICB9XG59KTtcblxuZnVuY3Rpb24gc2F2ZURhdGEoKSB7XG4gICAgdmFyIG5hbWUgPSAkKCcucnN2cCAjbmFtZScpLnZhbCgpO1xuICAgIHZhciBlbWFpbCA9ICQoJy5yc3ZwICNlbWFpbCcpLnZhbCgpO1xuICAgIHZhciBjb21tZW50ID0gJCgnLnJzdnAgI2NvbW1lbnQnKS52YWwoKTtcbiAgICB2YXIgYXR0ZW5kaW5nO1xuICAgIHZhciBndWVzdFR5cGU7XG4gICAgdmFyIGZvb2RPcHRpb247XG5cbiAgICBpZiAoJCgnI3Byb3Blci1ndWVzdCcpLmlzKCc6Y2hlY2tlZCcpKSB7XG4gICAgICAgIGd1ZXN0VHlwZSA9ICdDZXJlbW9ueSBhbmQgUmVjZXB0aW9uIEd1ZXN0JztcbiAgICAgICAgZGF0YUxheWVyLnB1c2goeydndWVzdFR5cGUnOiAncmVjZXB0aW9uJ30pO1xuICAgIH0gZWxzZSBpZiAoJCgnI2V2ZW5pbmctZ3Vlc3QnKS5pcygnOmNoZWNrZWQnKSkge1xuICAgICAgICBndWVzdFR5cGUgPSAnRXZlbmluZyBHdWVzdCc7XG4gICAgICAgIGRhdGFMYXllci5wdXNoKHsnZ3Vlc3RUeXBlJzogJ2V2ZW5pbmcnfSk7XG4gICAgfVxuXG4gICAgaWYgKCQoJyNhdHRlbmRpbmcnKS5pcygnOmNoZWNrZWQnKSkge1xuICAgICAgICBhdHRlbmRpbmcgPSAnWWVzJztcbiAgICB9IGVsc2UgaWYgKCQoJyNub3QtYXR0ZW5kaW5nJykuaXMoJzpjaGVja2VkJykpIHtcbiAgICAgICAgYXR0ZW5kaW5nID0gJ05vJztcbiAgICB9XG5cbiAgICBpZiAoJCgnI2NoaWNrZW4nKS5pcygnOmNoZWNrZWQnKSkge1xuICAgICAgICBmb29kT3B0aW9uID0gJ0NoaWNrZW4nO1xuICAgIH0gZWxzZSBpZiAoJCgnI2Zpc2gnKS5pcygnOmNoZWNrZWQnKSkge1xuICAgICAgICBmb29kT3B0aW9uID0gJ0Zpc2gnO1xuICAgIH1cblxuICAgIHZhciBmb29kT3B0aW9uSXNQcmVzZW50ID0gZm9vZE9wdGlvbiAhPSBudWxsIHx8IGZvb2RPcHRpb24gIT0gdW5kZWZpbmVkO1xuICAgIHZhciBmb29kT3B0aW9uVGV4dCA9IGZvb2RPcHRpb25Jc1ByZXNlbnQgPyBmb29kT3B0aW9uIDogJ05vbmUgU2VsZWN0ZWQnO1xuXG4gICAgdmFyIGRhdGFSZWYgPSBuZXcgRmlyZWJhc2UoJ2h0dHBzOi8vYW5uYS1hbmQtbWljaGFlbC5maXJlYmFzZWlvLmNvbScpO1xuXG4gICAgZGF0YVJlZi5hdXRoQW5vbnltb3VzbHkoZnVuY3Rpb24oZXJyb3IsIGF1dGhEYXRhKSB7XG4gICAgICAgIGlmIChlcnJvcikge1xuICAgICAgICAgICAgY29uc29sZS5sb2coXCJMb2dpbiBGYWlsZWQhXCIsIGVycm9yKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHZhciByc3ZwRGF0YVJlZiA9IGRhdGFSZWYuY2hpbGQoXCJyc3Zwc1wiKTtcbiAgICAgICAgICAgIHJzdnBEYXRhUmVmLnB1c2goXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBuYW1lOiBuYW1lLFxuICAgICAgICAgICAgICAgICAgICBlbWFpbDogZW1haWwsXG4gICAgICAgICAgICAgICAgICAgIGF0dGVuZGluZzogYXR0ZW5kaW5nLFxuICAgICAgICAgICAgICAgICAgICBndWVzdFR5cGU6IGd1ZXN0VHlwZSxcbiAgICAgICAgICAgICAgICAgICAgY29tbWVudDogY29tbWVudCxcbiAgICAgICAgICAgICAgICAgICAgZm9vZE9wdGlvbjogZm9vZE9wdGlvblRleHQsXG4gICAgICAgICAgICAgICAgICAgIGNyZWF0ZURhdGU6IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICk7XG4gICAgICAgIH1cbiAgICB9KTtcbn0iXX0=
